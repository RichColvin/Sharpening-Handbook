<!DOCTYPE html>
<html lang="en">
<!-- ################################################### -->
<!-- HTML5 Compliant                                     -->
<!-- ################################################### -->

<head>
    <title>Sharpening Handbook</title>
    <link rel="shortcut icon" type="image/ico" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="Images/favicon.png">
    
<!-- ################################################### -->
<!-- Get the Projection for the WM-xx -->
    <script>
	    function calcProjection()    {

			var fBetaDeg = 0;

			var iGrindStoneDiameter = 0;

			var iUSBDiameter = 12;
			var iUSBRadius = iUSBDiameter / 2;

			var A1 = 0;
			var B1 = 0;
			var C1 = 0;
			var Gamma1 = 0;

			var A2 = 0;
			var B2 = 0;
			var C2 = 0;
			var Gamma2 = 0;

	    	var x = document.getElementById("frm1");

		// ###################################################
		// Get the distance from the USB to the end of the cutter
		// This is side C1
		//
			A1 = 28;
			B1 = Number(x.elements[1].value) + iUSBRadius;
			C1 = Math.sqrt(Math.pow(A1, 2) + Math.pow(B1, 2));

		// ###################################################
		// Get the angle for the 1st triangle
		// This is side Gamma1
		//
			Gamma1 = Math.atan(A1 / B1);

		// ###################################################
		// Get the angle for the 2nd triangle
		// This is side Gamma2
		//
			fBetaDeg = Number(x.elements[2].value);
			Gamma2 = (fBetaDeg * Math.PI / 180) - Gamma1 + (Math.PI / 2);

		// ###################################################
		// Get the Jig or Tool Diameter.  This is used to accommodate that
		// calculating the distance.
		//
			A2 = C1;

			iGrindStoneDiameter = Number(x.elements[0].value);
			B2 = iGrindStoneDiameter / 2;

			C2 = Math.round(Math.sqrt(Math.pow(A2, 2) + Math.pow(B2, 2) - (2 * A2 * B2 * Math.cos(Gamma2))));

 			document.getElementById("Distance").innerHTML = (C2 - B2 - iUSBRadius);
		}
	</script>
</head>

<!-- ##################################################	-->
<!-- Google Analytics Tag               				-->
<!-- ##################################################	-->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Q4WJRKD8E5"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Q4WJRKD8E5');
</script>

<body style="background-color: #E6E6E6; font: 16px Arial; ">

<!-- ################################################### -->
<!-- Code for Including Standard HTML files on the 	 -->
<!-- server					         -->
<!-- ################################################### -->
<script src="library.js"></script>

<script>
function includeHTML() {
  var z, i, elmnt, file, xhttp;
  /* Loop through a collection of all HTML elements: */
  z = document.getElementsByTagName("*");
  for (i = 0; i < z.length; i++) {
    elmnt = z[i];
    /*search for elements with a certain atrribute:*/
    file = elmnt.getAttribute("w3-include-html");
    if (file) {
      /* Make an HTTP request using the attribute value as the file name: */
      xhttp = new XMLHttpRequest();
      xhttp.onreadystatechange = function() {
        if (this.readyState == 4) {
          if (this.status == 200) {elmnt.innerHTML = this.responseText;}
          if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
          /* Remove the attribute, and call this function once more: */
          elmnt.removeAttribute("w3-include-html");
          includeHTML();
        }
      }
      xhttp.open("GET", file, true);
      xhttp.send();
      /* Exit the function: */
      return;
    }
  }
}
</script> 

<!-- ################################################### -->
<!-- Standard horizontal rule definitions		  		 -->
<div w3-include-html="include-SiteStandards.html"></div> 
<script>
includeHTML();
</script>

<!-- ################################################### -->
<!-- Header                                              -->
<!-- ################################################### -->
<table style="width: 100%; ">
    <tr>
	<td style="text-align: center; vertical-align: middle; ">
	    <a href="index.html"><IMG SRC="Images/SharpeningHandbookLogo.png" alt="Sharpening Handbook Logo" style="width: 100%;" class="Image"></a>
	</td>
    </tr>
</table>

<table style="width: 100%; text-align: center; border-collapse: collapse; ">
    <tr style="vertical-align: middle; ">
    	<td style="text-align: left; width: 10%; ">
	        &nbsp;
    	</td>
    	<td style="vertical-align: text-top;  text-align: center; ">
		    <p style="margin-top: 0; margin-bottom: 0; color: #191970; " class="TextXL"><b>Calculator for Projection and/or USB Distance</b></p>
    	</td>
	    <td style="text-align: right; width: 10%; ">
	        &nbsp;
    	</td>
    </tr>
</table>
	
<!-- ################################################### -->
<!-- Body                                                                                               -->
<!-- ################################################### -->
    <hr>

<!-- ################################################### -->
<!-- Body -->
<form id="frm1" action="/action_page.php">
	<table style="
			margin-left: auto; margin-right: auto;
			margin-top: 0; margin-bottom: 12px;
	   		border-style: solid; 
			border-color: black; 
 			border-collapse: collapse;
 			border-top-width: thin; 
			border-bottom-width: thin; 
			border-left-width: thin; 
			border-right-width: thin; 
			">

	    <tr style="background-color: LightGrey;">
	    	<td style="width: 175px;
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label><span style="color:darkblue;">Grindstone Diameter</span></label>
			</td>
	    	<td style="width: 60px;
	    			border-style: solid; 
    	    		text-align: right; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
 				<input 
	 					type="number"
 						style="font-size:14px; text-align: right; width: 60px; background-color:#FFEE9C" 
 						name="Diameter" 
						step='1' 
						placeholder='0' 
 						value=250
					/>
 			</td>
	    	<td style="width: 50px;
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>mm</label>
			</td>
	    	<td style="width: 300px;
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>Radius is half the diameter</label>
			</td>
		</tr>

	    <tr style="background-color: White;">
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label><span style="color:darkblue;">Measured Projection</span></label>
			</td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: right; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">			
				<input
					type="number" 
 					style="font-size:14px; text-align: right; width: 60px; background-color:#FFEE9C" 
					name="JigProjection" 
					value=90 
				/>
			</td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>mm</label>
			</td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>&nbsp;</label>
			</td>
		</tr>

	    <tr style="background-color: LightGrey;">
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label><span style="color:darkblue;">Desired Bevel Angle (<span style="color: #191970; font: 16px Garamond; "><b>&beta;</b></span>)</span></label>
			</td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: right; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
 				<input 
	 				type="number"
 					style="font-size:14px; text-align: right; width: 60px; background-color:#FFEE9C" 
					name="Beta" 
					value=30
				/>
   	 		</td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>&deg;</label>
			</td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>Bevel angle (<span style="color: #191970; font: 16px Garamond; "><b>&beta;</b></span>) is half the included angle (<span style="color: #191970; font: 16px Garamond; "><b>&alpha;</b></span>)</label>
			</td>
		</tr>

	    <tr style="background-color: Moccasin;">
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label><span style="color:darkblue;">Distance from Grindstone to USB</span></label>
			</td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: right; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
   			 	<p id="Distance"></p>
   			 </td>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>mm</label>
	    	<td style="
	    			border-style: solid; 
    	    		text-align: left; 
					border-color: black; 
					border-top-width: thin; 
					border-bottom-width: thin; 
					border-left-width: 0px; 
					border-right-width: 0px; ">
				<label>&nbsp;</label>
			</td>
		</tr>
	</table>
</form>

<p style="text-align: center;"><button autofocus type="button" onclick="calcProjection()" style="font-size:25px; background-color: #0404B4; color: white;">Calculate Projection</button></p>

 <div style="width: 500px;
		margin-left: auto; margin-right: auto;
        margin-top: 0px; margin-bottom: 5px; 
        padding-left: 0px; padding-right: 0px; 
        padding-top: 0px; padding-bottom: 5px; 
        border: 1px solid darkgray; text-align: left; 
        ">
    <img src="Images/IndexCalcProj_RE.png" alt="no image file" style="width: 100%; " />
    <p class="TextSMImage"><b><i>Measuring Distance from Grindstone to USB</i></b></p>
</div>

<p><a href="indexCalcProjDetails_RE.html">Details on the calculations used</a>

<!-- ################################################### -->
<!-- Footer                                              -->
<!-- ################################################### -->
<div w3-include-html="include-Footer.html"></div> 
<script>
includeHTML();
</script> 
</body>
</html>
